{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["\nconst FORM_DATA_STORAGE = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst formInfo = JSON.parse(localStorage.getItem(FORM_DATA_STORAGE));\n\ntry {\n  if (formInfo) {\n    Array.from(form.elements).forEach(element => {\n      const formValue = formInfo[element.name];\n      if (formValue !== undefined) {\n        element.value = formValue;\n      }\n    });\n  }\n} catch (e) {\n  console.error('Parse form error!');\n}\n\nform.addEventListener('input', (() => {\n  const formData = new FormData(form);\n  const formObj = {};\n  formData.forEach((value, key) => {\n    formObj[key] = value;\n  });\n  localStorage.setItem(FORM_DATA_STORAGE, JSON.stringify(formObj));\n}));\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n\n  let fieldsFilled = true;\n  Array.from(form.elements).forEach(element => {\n    if ((element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') && element.value.trim() === '') {\n        fieldsFilled = false;     \n    }\n  });\n\n  if (!fieldsFilled) {\n    alert('Not all fields are filled in');\n  } else {\n    console.log(localStorage.getItem(FORM_DATA_STORAGE));\n    localStorage.removeItem(FORM_DATA_STORAGE);\n    form.reset();\n    \n  }\n});\n\n"],"names":["FORM_DATA_STORAGE","form","formInfo","element","formValue","formData","formObj","value","key","event","fieldsFilled"],"mappings":"oDACA,MAAMA,EAAoB,sBACpBC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAiB,CAAC,EAEnE,GAAI,CACEE,GACF,MAAM,KAAKD,EAAK,QAAQ,EAAE,QAAQE,GAAW,CAC3C,MAAMC,EAAYF,EAASC,EAAQ,MAC/BC,IAAc,SAChBD,EAAQ,MAAQC,EAExB,CAAK,CAEL,MAAE,CACA,QAAQ,MAAM,mBAAmB,CACnC,CAEAH,EAAK,iBAAiB,QAAU,IAAM,CACpC,MAAMI,EAAW,IAAI,SAASJ,CAAI,EAC5BK,EAAU,CAAA,EAChBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC/BF,EAAQE,GAAOD,CACnB,CAAG,EACD,aAAa,QAAQP,EAAmB,KAAK,UAAUM,CAAO,CAAC,CACjE,GAEAL,EAAK,iBAAiB,SAAWQ,GAAU,CACzCA,EAAM,eAAc,EAEpB,IAAIC,EAAe,GACnB,MAAM,KAAKT,EAAK,QAAQ,EAAE,QAAQE,GAAW,EACtCA,EAAQ,UAAY,SAAWA,EAAQ,UAAY,aAAeA,EAAQ,MAAM,KAAI,IAAO,KAC5FO,EAAe,GAEvB,CAAG,EAEIA,GAGH,QAAQ,IAAI,aAAa,QAAQV,CAAiB,CAAC,EACnD,aAAa,WAAWA,CAAiB,EACzCC,EAAK,MAAK,GAJV,MAAM,8BAA8B,CAOxC,CAAC"}