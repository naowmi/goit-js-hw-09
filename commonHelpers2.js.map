{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\nconst FORM_DATA_STORAGE = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst formInfo = JSON.parse(localStorage.getItem(FORM_DATA_STORAGE));\n\ntry {\n  if (formInfo) {\n    Array.from(form.elements).forEach(element => {\n      const formValue = formInfo[element.name];\n      if (formValue !== undefined) {\n        element.value = formValue.trim();\n      }\n    });\n  }\n} catch (e) {\n  console.error('Problems with data retrieval!');\n}\nconst formObj = {};\nform.addEventListener('input', (() => {\n  Array.from(form.elements).forEach(element => {\n    if (element.type !== \"submit\") {\n      formObj[element.name] = element.value.trim();\n    }\n  });\n  localStorage.setItem(FORM_DATA_STORAGE, JSON.stringify(formObj));\n}));\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n\n  let fieldsFilled = true;\n  Array.from(form.elements).forEach(element => {\n    if ((element.name === 'email' || element.name === 'message') && element.value.trim() === '') {\n        fieldsFilled = false;     \n    }\n  });\n\n  if (!fieldsFilled) {\n    alert('Be sure to fill in all the fields');\n  } else {\n    console.log(formObj);\n    localStorage.removeItem(FORM_DATA_STORAGE);\n    form.reset();\n    \n  }\n});\n\n"],"names":["FORM_DATA_STORAGE","form","formInfo","element","formValue","formObj","event","fieldsFilled"],"mappings":"oDACA,MAAMA,EAAoB,sBACpBC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAiB,CAAC,EAEnE,GAAI,CACEE,GACF,MAAM,KAAKD,EAAK,QAAQ,EAAE,QAAQE,GAAW,CAC3C,MAAMC,EAAYF,EAASC,EAAQ,MAC/BC,IAAc,SAChBD,EAAQ,MAAQC,EAAU,OAElC,CAAK,CAEL,MAAE,CACA,QAAQ,MAAM,+BAA+B,CAC/C,CACA,MAAMC,EAAU,CAAA,EAChBJ,EAAK,iBAAiB,QAAU,IAAM,CACpC,MAAM,KAAKA,EAAK,QAAQ,EAAE,QAAQE,GAAW,CACvCA,EAAQ,OAAS,WACnBE,EAAQF,EAAQ,MAAQA,EAAQ,MAAM,OAE5C,CAAG,EACD,aAAa,QAAQH,EAAmB,KAAK,UAAUK,CAAO,CAAC,CACjE,GAEAJ,EAAK,iBAAiB,SAAWK,GAAU,CACzCA,EAAM,eAAc,EAEpB,IAAIC,EAAe,GACnB,MAAM,KAAKN,EAAK,QAAQ,EAAE,QAAQE,GAAW,EACtCA,EAAQ,OAAS,SAAWA,EAAQ,OAAS,YAAcA,EAAQ,MAAM,KAAI,IAAO,KACrFI,EAAe,GAEvB,CAAG,EAEIA,GAGH,QAAQ,IAAIF,CAAO,EACnB,aAAa,WAAWL,CAAiB,EACzCC,EAAK,MAAK,GAJV,MAAM,mCAAmC,CAO7C,CAAC"}